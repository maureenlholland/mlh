"use strict";var mlh={};mlh.root=document.documentElement,mlh.allH2=document.getElementsByTagName("h2"),mlh.allH3=document.getElementsByTagName("h3"),mlh.uppercase=document.getElementsByClassName("uppercase"),mlh.animation=document.getElementsByClassName("twinkling")[0],mlh.header=document.getElementsByTagName("header")[0],mlh.uoButton=document.getElementById("user-options"),mlh.featured=document.querySelectorAll(".featured")[0],mlh.checked={animation:!1,uppercase:!1,invert:!1},mlh.checkSize=function(){if(650<window.innerWidth)window.addEventListener("scroll",mlh.checkHeader,!1),mlh.header.style.position="fixed",mlh.featured.style.paddingTop="60px",mlh.header.classList.remove("mobile"),mlh.header.style.paddingTop=0;else{window.removeEventListener("scroll",mlh.checkHeader,!1),mlh.header.style.position="absolute",mlh.header.classList.add("mobile"),mlh.featured.style.paddingTop="80px";var e=mlh.uoButton.getBoundingClientRect().height;mlh.header.style.paddingTop=e+"px"}},mlh.checkHeader=function(){var e=mlh.header,t=mlh.header.offsetTop;requestAnimationFrame(function(){window.pageYOffset>t?e.classList.add("sticky"):e.classList.remove("sticky")})},mlh.userOptionUpdate=function(e){mlh.checked[e.target.name]=!mlh.checked[e.target.name],"animation"===e.target.name?mlh.switchAnimation(e):"uppercase"===e.target.name?mlh.switchCasing(e):mlh.switchTheme(e)},mlh.switchTheme=function(e){"invert-on"===e.target.id?mlh.root.classList.add("invert"):mlh.root.classList.remove("invert")},mlh.removeUppercase=function(e){if(0!==e.length)for(var t=0;t<e.length;t++)e[t].style.textTransform="none"},mlh.addUppercase=function(e){if(0!==e.length)for(var t=0;t<e.length;t++)e[t].style.textTransform="uppercase"},mlh.switchCasing=function(e){"uppercase-removed"===e.target.id?(mlh.removeUppercase(mlh.allH2),mlh.removeUppercase(mlh.allH3),mlh.removeUppercase(mlh.uppercase)):(mlh.addUppercase(mlh.allH2),mlh.addUppercase(mlh.allH3),mlh.addUppercase(mlh.uppercase))},mlh.switchAnimation=function(e){"animation-stop"===e.target.id?mlh.animation.style.animationPlayState="paused":mlh.animation.style.animationPlayState="running"},window.addEventListener("load",mlh.checkSize,!1),window.addEventListener("resize",mlh.checkSize,!1),function(){var l=void 0,s=document.getElementById("body"),o=document.getElementById("modal"),r=document.getElementById("modal-inner"),e=document.getElementById("user-options"),t=document.getElementById("message"),d=void 0,c=void 0,m=void 0,u='<form id="contact" class="contact" action="https://g260z3nzb7.execute-api.us-east-1.amazonaws.com/dev/static-site-mailer" method="POST">\n        <label>\n          Name (required)\n          <input type="text" name="name" required>\n        </label>\n        <label>\n          Email (required)\n          <input type="email" name="reply_to" required>\n        </label>\n        <label>\n          Message (required):\n          <textarea name="message" rows="5" required></textarea>\n        </label>\n        <div style="display: none;">\n           <input type="text" name="bots-only" id="bots-only" />\n        </div>\n        <input type="submit"></input>\n        <button id="exit" class="exit">Close</button>\n      </form>',p=function(e){9===e.keyCode&&(e.shiftKey?document.activeElement===c&&(e.preventDefault(),m.focus()):document.activeElement===m&&(e.preventDefault(),c.focus())),27===e.keyCode&&h(e)},h=function(e){e.preventDefault(),o.style.display="none",s.classList.remove("fixed"),l.focus()},n=function t(e){switch(e.target.id){case"user-options":for(var n in r.innerHTML='<form id="uo-modal" class="uo-modal" action="">\n        <fieldset>  \n          <legend>Stop Animation</legend>\n          <div class="fb-container">\n              <label for="animation-stop">\n                <input type="radio" id="animation-stop" name="animation" value="on">\n                <span class="select">Yes</span>\n              </label>\n              <label for="animation-play">\n              <input type="radio" id="animation-play" name="animation" value="off">\n              <span class="select">No</span>\n              </label>\n          </div>\n        </fieldset> \n        <fieldset>  \n          <legend>Change <span class="uppercase">Uppercase</span> to Normal Case</legend>\n          <div class="fb-container">\n              <label for="uppercase-removed">\n              <input type="radio" id="uppercase-removed" name="uppercase" value="on">\n              <span class="select">Yes</span>\n              </label>\n              <label for="uppercase-allowed">\n              <input type="radio" id="uppercase-allowed" name="uppercase" value="off">\n              <span class="select">No</span>\n              </label>\n          </div>\n        </fieldset> \n        <fieldset>  \n          <legend>Invert Theme Colours</legend>\n          <div class="fb-container">\n              <label for="invert-on">\n              <input type="radio" id="invert-on" name="invert" value="on">\n              <span class="select">Yes</span>\n              </label>\n              <label for="invert-off">\n                <input type="radio" id="invert-off" name="invert" value="off">\n                <span class="select">No</span>\n              </label>\n          </div>\n        </fieldset> \n        <button id="exit" class="exit">Exit User Options</button>\n        <button id="issue" class="issue">Report an issue</button>\n      </form>',mlh.checked)mlh.checked[n]?document.querySelectorAll("input[name="+n+'][value="on"]')[0].setAttribute("checked","true"):document.querySelectorAll("input[name="+n+'][value="off"]')[0].setAttribute("checked","true");var a=r.querySelectorAll("input");Array.from(a).forEach(function(e){e.addEventListener("change",function(e){mlh.userOptionUpdate(e)},!1)}),document.getElementById("issue").addEventListener("click",function(e){h(e),t(e)},!1);break;case"message":r.innerHTML=u,document.querySelectorAll('input[type="submit"]')[0].setAttribute("value","Send Message"),d='<div role="alert" class="response"><h2>Thanks for getting in touch!</h2><p>I will get back to you as soon as possible.</p><button id="exit" class="exit">Close</button></div>',f();break;case"issue":r.innerHTML=u,document.querySelectorAll('input[type="submit"]')[0].setAttribute("value","Report issue"),d='<div role="alert" class="response"><h2>Thanks for bring my attention to this issue!</h2><p>I will record the details on GitHub and create a fix as soon as possible.</p><button id="exit" class="exit">Close</button></div>',f()}l=document.activeElement,o.addEventListener("keydown",p),document.getElementById("exit").addEventListener("click",h);var i=o.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex="0"], [contenteditable]');(i=Array.prototype.slice.call(i),c=i[0],m=i[i.length-1],o.style.display="flex",s.classList.add("fixed"),"user-options"===e.target.id)?o.querySelectorAll("input:checked")[0].focus():c.focus()};e.addEventListener("click",function(e){n(e)},!1),t.addEventListener("click",function(e){n(e)},!1);var f=function(){var i=document.getElementById("contact");i.onsubmit=function(a){if(a.preventDefault(),!document.getElementById("bots-only").value){var t={};Array.from(i).map(function(e){return t[e.name]=e.value});var e=new XMLHttpRequest;e.open(i.method,i.action,!0),e.setRequestHeader("Accept","application/json; charset=utf-8"),e.setRequestHeader("Content-Type","application/json; charset=UTF-8"),e.send(JSON.stringify(t)),e.onloadend=function(e){if(200===e.target.status){i.reset(),r.innerHTML=d;var t=document.getElementById("exit");t.addEventListener("click",h),t.focus(),(m=c=t).addEventListener("keydown",p(a),!1)}else{var n=document.createElement("div");n.innerHTML='<div><h2>Sorry, something went wrong!</h2><p>Please try again later</p><button id="exit" class="exit">Close</button></div>',i.innerHTML=n,console.error(JSON.parse(e.target.response).message),i.getElementById("exit").addEventListener("click",h)}}}}}}();